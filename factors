#!/usr/bin/env python3
import sys
import subprocess

def check_factor(*args):
    if len(args) != 3:
        count = 0
        num2 = 1
        for a in args:
            if count > 1:
                num2 *= int(a)
            count += 1
    else:
        num2 = int(args[2])

    num1 = int(args[1])
    num = args[0].replace(':', '=')

    if num2 > num1:
        num1, num2 = num2, num1

    return f"{num}{num1}*{num2}"

def main(filename):
    try:
        with open(filename, 'r') as file:
            for line in file:
                number = int(line.strip())
                result = subprocess.run(['factor', str(number)], capture_output=True, text=True)
                factors = result.stdout.split(':')[1].strip().split()
                print(check_factor(*factors))
    except FileNotFoundError:
        print(f"Error: File '{filename}' not found.")

if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("Usage: factors <file>")
        sys.exit(1)
    filename = sys.argv[1]
    main(filename)
